import { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from "@/components/ui/accordion";
import { Badge } from "@/components/ui/badge";
import { useSEO } from "@/hooks/useSEO";

const Analysis = () => {
  useSEO({
    title: "ניתוח נתונים | AI UXR Ethics Guidelines",
    description: "עקרונות אתיים לניתוח נתונים איכותניים עם AI. תמלול, סיכום וזיהוי דפוסים בצורה מדויקת והוגנת."
  });
  const tasks = [{
    id: "transcription",
    title: "תמלול",
    titleEn: "Transcription",
    subtasks: ["תמלול ראיונות או תצפיות מוקלטות", "המרת שפה דבורה לטקסט קריא"],
    principles: "אוטונומיה: כיבוד חירות ובחירת האדם, אי-גרימת נזק: הימנעות מפגיעה",
    howToAct: ["הגנה והצפנת פרטים אישיים: בבחירת כלי תמלול - נוודא שהכלי משתמש בסטנדרטי הצפנה חזקים (AES-256) ונאפשר ניהול עצמאי של מפתחות הצפנה. כמו כן, נפעל רק עם ספקים המצהירים על מחיקה אוטומטית ומהירה של קבצים, ומתחייבים שלא להשתמש בנתונים לאימון מודלי AI גנריים.", 'שמירה על פרטיות ואבטחה: נחיל עקרונות של "Privacy by Design" ונוודא שהקלטות ותמלילים מוצפנים ומאוחסנים באופן מאובטח. נוודא תאימות לתקנות כגון GDPR או HIPAA. השימוש בשירותי ענן לתמלול דורש תשומת לב מיוחדת לסכנות דליפת מידע, במיוחד במחקרים המכילים מידע רגיש.', "ביקורת אנושית: נוודא שהתמלול יעבור בדיקה ידנית כדי לוודא דיוק ולמנוע אובדן ניואנסים או פירושים שגויים."]
  }, {
    id: "summarization",
    title: "סיכום תוכן מוקלט/מצולם",
    titleEn: "Video/Audio Summarization",
    subtasks: ["תקציר ראיונות / סרטוני תצפית", "יצירת כותרות לנושאים עיקריים"],
    principles: "אי-גרימת נזק: הימנעות מפגיעה, צדק: הגינות וחלוקה הוגנת של משאבים",
    howToAct: ['הוגנות בייצוג: ננחה את ה-AI באופן יזום באמצעות פרומפטים (Prompts) לכלול בסיכום תובנות, חוויות או נקודות כאב ייחודיות של משתמשים מאוכלוסיות מוחלשות או לא-מיוצגות או בעלי מוגבלויות, ובכך להימנע מ"שיטוח הנתונים" (Average Washing).', 'פיקוח וביקורת אנושית: נבצע ביקורת אנושית מחייבת על כל סיכום שנוצר על ידי AI, ונחפש במפורש עדויות סותרות כדי למנוע "החלקה" (Average Washing) והחמצה של תובנות ייחודיות וקריטיות. נקיים בדיקה אנושית קפדנית של התובנות המסוכמות על ידי חוקר בעל מומחיות בתחום, תוך השוואה לנתוני המקור הגולמיים.', 'חיפוש ראיות סותרות: כחלק מביקורת האיכות האנושית, נאתגר באופן יזום את הסיכום שנוצר על ידי ה-AI. נבקש ממנו או נחפש בעצמנו בנתונים ראיות סותרות או יוצאות דופן שייתכן והמערכת "החליקה" לטובת יצירת נרטיב קוהרנטי.']
  }, {
    id: "pattern-recognition",
    title: "זיהוי דפוסים בנתונים איכותניים",
    titleEn: "Qualitative Pattern Recognition",
    subtasks: ["קידוד פתוח", "יצירת טקסונומיית תיוג", "אשכול תמות", "זיהוי רגשות או מגמות"],
    principles: "אי-גרימת נזק: הימנעות מפגיעה, צדק: הגינות וחלוקה הוגנת של משאבים",
    howToAct: ["שקיפות וניתנות להסבר: נבחר בכלי AI המאפשרים שקיפות (Transparency) וניתנות להסבר (Explainability), על ידי כך שהם מספקים את ההיגיון והרציונל שהובילו לקידוד או לתמה מסוימת, כדי שהחוקר יוכל לאמת ולערער על החלטות המודל.", "פיקוח וביקורת אנושית: נוודא שכל תוצר AI (קידוד, תמות אוטומטיות, סנטימנט) נבדק, מאומת ומנומק על ידי חוקר אנושי, ונשתמש ב-AI ככלי מסייע ולא כתחליף לשיפוט אנושי.", "מניעת הטיה וייצוג: נבצע בדיקות הטיות (Bias Audits) קבועות בתוצרי ה-AI ונשתמש בפרומפטים מפורשים שיחייבו את המודל להתייחס באופן שוויוני לחוויות של קבוצות מגוונות (כגון מיעוטים או בעלי מוגבלויות), במיוחד בשלבי זיהוי הדפוסים.", "טיפול בניואנסים: נימנע מלהסתמך באופן בלעדי על ניתוח סנטימנט ממוחשב, ונקיים בדיקה אנושית יזומה לאיתור סרקזם, אירוניה או סתירות מורכבות שה-AI עשויה לפספס, כיוון שהיא מתקשה לפרש ניואנסים רגשיים ואנושיים."]
  }, {
    id: "theme-synthesis",
    title: "ניסוח תמות מרכזיות",
    titleEn: "Theme Synthesis",
    subtasks: ["ניסוח מסקנות על סמך קידוד", "ניתוח תמטי מבוסס נרטיב", "איתור ציטוטים מייצגים"],
    principles: "אי-גרימת נזק: הימנעות מפגיעה, צדק: הגינות וחלוקה הוגנת של משאבים, אוטונומיה: כיבוד חירות ובחירת האדם",
    howToAct: ["פיקוח וביקורת אנושית: נוודא שכל תמה או מסקנה שנוסחה על ידי AI עוברת אימות קפדני מול הנתונים הגולמיים (התמלילים המקוריים), ונשמור לעצמנו את האחריות הסופית על הפרשנות המחקרית וההקשר הנרטיבי.", 'הפחתת הטיות אנושיות: נשתמש בפרקטיקות "אתיקה-על-ידי-עיצוב" (Ethics-by-Design), על ידי הוספת הנחיות מתודולוגיות מפורשות לפרומפטים הניתנים ל- AI, על מנת להפחית הטיות אנושיות ולשפר את האחריותיות (Accountability) בניתוח ובתיעוד.', "תיעוד שקוף: נתעד באופן מלא את המעורבות של ה-AI בשלבי ניסוח התמות והניתוח התמטי בפרק המתודולוגיה של המחקר, כולל הפרומפטים ששימשו ליצירת התמות הראשוניות.", 'שילוב קולות מנוגדים: נחפש באופן יזום "חריגים" (Outliers) וציטוטים מנוגדים (Contradictory Quotes) בתוך כל תמה שנוצרה על ידי AI, כדי לוודא שקולות המיעוט או חוויות מורכבות משולבות בניתוח הנרטיבי ולא "מושטחים".', "שימוש זהיר בציטוטים: בעת איתור ציטוטים מייצגים, נבדוק ידנית כל ציטוט שהוצע על ידי AI כדי לוודא שאינו מוצא מהקשרו (Decontextualization) ובכך מעוות את כוונת המשתתף המקורית."]
  }, {
    id: "quantitative",
    title: "ניתוח סטטיסטי",
    titleEn: "Quantitative Analysis",
    subtasks: ["חישובים כמותניים בסיסיים", "השוואות והצלבות", "בדיקות מובהקות"],
    principles: "אי-גרימת נזק: הימנעות מפגיעה, צדק: הגינות וחלוקה הוגנת של משאבים, עשיית טוב: תרומה לרווחה",
    howToAct: ["בחירת כלי מתאים: בניתוח מידע כמותני, חשוב שנשמור על שקיפות הכלי כלפינו, ועל מניעת הטיות. נבדוק שהכלי כולל מדדי הוגנות מובנים (Fairness Metrics) המאפשרים השוואה כמותית של תוצאות בין קבוצות דמוגרפיות שונות.", "פיקוח אנושי קבוע: נבצע בדיקות הוגנות (Fairness Audits) שגרתיות לתוצאות הסטטיסטיות של AI, ונשתמש באלגוריתמים רק ככלי משלים לזיהוי דפוסים כמותניים, תוך שמירה על השיפוט האנושי בפרשנות המובהקות.", "שקיפות שימוש ואחריות: נתעד במדויק את הכלי הטכנולוגי ואת הפרומפט ששימשו לביצוע החישובים וההצלבות הסטטיסטיות, על מנת לאפשר ביקורת ואחריותיות (Auditability) מלאה על הממצאים הנגזרים.", "הסברה על מגבלות: נסביר באופן יזום וברור לבעלי העניין את מגבלות הניתוח הכמותני שבוצע על ידי AI, במיוחד במדדי סנטימנט או התנהגות המושפעים מהקשר תרבותי."]
  }, {
    id: "visualization",
    title: "יצירת ויזואליזציות וגרפים - למידע כמותני",
    titleEn: "Data Visualization",
    subtasks: ["גרפים סטטיים ואינטראקטיביים", "תרשימי חום / זרימה"],
    principles: "אי-גרימת נזק: הימנעות מפגיעה, צדק: הגינות וחלוקה הוגנת של משאבים, עשיית טוב: תרומה לרווחה, אוטונומיה: כיבוד חירות ובחירת האדם",
    howToAct: ["ייצוג ויזואלי הוגן: נמנע משימוש בטכניקות ויזואליות מטעות (כגון קיטוע ציר Y או קנה מידה לא פרופורציונלי) בגרפים סטטיים, כדי להבטיח הצגה ישרה של הנתונים ולמנוע הטעיה של הקהל.", 'הבלטת חריגים ומיעוטים: נוודא שוויזואליזציות (כגון תרשימי חום) אינן "משטיחות" (Flattening) את הנתונים, ונשתמש בטכניקות ויזואליות להבלטת קבוצות מיעוט או חריגים (Outliers) שחוו תוצאות שונות, במקום להתמקד רק בממוצע הכללי.', "תיעוד והסברתיות: נתעד במדויק את תהליך ההחלטה של ה-AI בבחירת הנתונים לוויזואליזציה (למשל, איך נוצרו ה-Clusters בדשבורד), ונחייב את הכלי בו נייצר את הויזואליזציה לספק הסבר (Explainability) למה עקרונות/דפוסים מסוימים הוצגו בצורה מסוימת.", "נגישות והכלה: נבחר פלטות צבעים, גופנים ופורמטים שמתאימים לכלל האוכלוסייה (למשל, צבעוניות ידידותית לעיוורי צבעים) בגרפים ובדשבורדים, כדי לוודא שכל אדם יכול לצרוך ולהבין את המידע באופן שוויוני."]
  }, {
    id: "visual-artifacts",
    title: "יצירת עזרים ויזואליים להמחשה - מידע איכותני",
    titleEn: "Deliverables & Visual Artifacts",
    subtasks: ["מסעות משתמש", "מפות חוויה"],
    principles: "אי-גרימת נזק: הימנעות מפגיעה, צדק: הגינות וחלוקה הוגנת של משאבים, עשיית טוב: תרומה לרווחה",
    howToAct: ["זיהוי והסבר הטיה: נבצע בדיקות הטיה (Bias Audits) על הנתונים שמהם נבנו מפות החוויה (כגון ניתוח סנטימנט או קידוד אוטומטי), כדי לוודא שתוצרי ה-AI אינם מעצימים אפליה בקבוצות דמוגרפיות שונות.", 'השלמת הקשר אנושי: נימנע מהסתמכות יתר על AI בפירוש אלמנטים איכותניים (כגון "רגשות" או "נקודות כאב" במסע), ונשתמש בשיפוט אנושי כדי למלא את החוסר בהקשר אנושי, תרבותי ורגשי שמודלי AI מחמיצים.', 'הפרדת נתון מהשערה: נוודא כי במפת המסע, כל חלק שאינו נתמך ישירות בנתונים אלא נוצר על ידי AI כהשערה, מסומן בבירור כ"השערת AI" או "הנחה", כולל הסבר קצר לביסוסה.', "שקיפות שימוש ב-AI: נודיע באופן מפורש לכל בעלי העניין (Stakeholders) אילו חלקי ניתוח במפות המסע (כגון זיהוי דפוסים או סיכום ציטוטים) נעשו בסיוע AI, כדי לשמר אמון ושקיפות מתודולוגית."]
  }];
  return <div className="min-h-screen bg-gradient-to-b from-background to-muted py-12 px-6 md:px-12" dir="rtl" lang="he">
      <div className="max-w-6xl mx-auto space-y-12">
        {/* Header */}
        <div className="space-y-4">
          <h1 className="font-bold text-foreground text-4xl"> שלב 3: ניתוח התוצאות</h1>
          <div className="card-elevated p-8">
            <p className="text-foreground/90 leading-relaxed text-lg">
              בשלב זה אנו מפיקים משמעות מתוך הנתונים שנאספו: תמלולים, תצפיות, תשובות כמותניות ואיכותניות.
              זהו שלב טעון מבחינה קוגניטיבית, שמחייב תשומת לב מיוחדת להטיות, לאובייקטיביות ולייצוג הוגן של כל המשתתפים.
              שימוש ב-AI מסייע לזהות דפוסים, לייעל קידוד, ולהציג נתונים באופן חזותי, אך מחייב בקרה אנושית לכל אורך הדרך.
            </p>
          </div>
        </div>

        {/* Tasks */}
        <div className="space-y-6">
          <h2 className="text-3xl font-bold text-primary">משימות נפוצות עם AI בשלב הניתוח</h2>
          {tasks.map(task => <div key={task.id} className="card-elevated">
              <Accordion type="single" collapsible>
                <AccordionItem value={task.id} className="border-none">
                  <AccordionTrigger className="px-8 py-6 hover:no-underline">
                    <div className="text-right">
                      <h2 className="text-2xl font-bold text-foreground">{task.title}</h2>
                      <p className="text-lg text-muted-foreground mt-1">({task.titleEn})</p>
                      {task.subtasks && <p className="text-base text-muted-foreground mt-2">
                          {task.subtasks.join(" • ")}
                        </p>}
                    </div>
                  </AccordionTrigger>
                  <AccordionContent className="px-8 pb-6 space-y-6">
                    {/* Principles */}
                    <div className="bg-background rounded-lg p-6">
                      <h3 className="text-lg font-bold text-foreground mb-3">עקרונות אתיים מהותיים</h3>
                      <div className="flex flex-wrap gap-2">
                        {task.principles.split(", ").map((principle, idx) => <Badge key={idx} variant="accent" className="text-sm px-3 py-1">
                            {principle}
                          </Badge>)}
                      </div>
                    </div>

                    {/* How to Act */}
                    <div>
                      <h3 className="text-lg font-bold text-foreground mb-4">כיצד לפעול</h3>
                      <ul className="space-y-4">
                        {task.howToAct.map((action, index) => <li key={index} className="text-lg text-foreground/90 leading-relaxed pr-6 relative before:content-['•'] before:absolute before:right-0 before:text-primary before:font-bold">
                            {action}
                          </li>)}
                      </ul>
                    </div>
                  </AccordionContent>
                </AccordionItem>
              </Accordion>
            </div>)}
        </div>
      </div>
    </div>;
};
export default Analysis;